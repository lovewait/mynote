## 分组交换技术
### 帧中继的工作原理
帧中继与X.25及ATM都同属分组交换一类.但由于X.25带宽较窄,而帧中继和ATM带宽较宽,所以常将帧中继和ATM称为快速分组交换
帧中继保留了X.25链路层的HDLC帧格式,但不采用HDLC的平衡链路接入规程LAPB,而采用D通道链路接入规程LAPD.LAPD规程能在链路层实现链路的复用和转接,而X.25只能在网络层实现该功能.由于帧中继可以不用网络层而只使用链路层来实现复用和转接,所以帧中继的层次结构中只有物理层和链路层.
### 帧中继的应用
1. 局域网的互连.由于帧中继具有支持不同数据速率的能力,使其非常适于处理局域网-局域网的突发数据流量.传统的局域网互连,每增加一条端-端线路,就要在用户的路由器上增加一个端口.基于帧中继的局域网互连,只要局域网内每个用户至网络间有一条带宽足够的线路,则既不用增加物理线路也不占用物理端口,就可增加端-端线路,而不致对用户性能产生影响.
2. 语音传输.帧中继不仅适用于对时延不敏感的局域网的应用,还可以进行对时延要求较高的低档语音(质量优于长途电话)的应用
3. 文件传输.帧中继既可保证用户所需的带宽,又有较满意的传输时延,非常适合大流量文件的传输

### 帧中继帧格式
帧格式:
| 1 | 2    | 1~4096   | 2   | 1 | 字节 |
|---|------|----------|-----|---|------|
| F | 地址 | 用户数据 | FCS | F |      |
地址:
| 6        | 1   | 1   | 4        | 1    | 1    | 1  | 1   | 比特 |
|----------|-----|-----|----------|------|------|----|-----|------|
| DLCI(高) | C/R | EA0 | DLCI(低) | FECN | BECH | DE | EA1 |      |
帧中继的帧格式类似于HDLC的帧格式,不过没有控制字段.
标志字段F和帧校验序列FCS的作用与HDLC中的类似.F字段用以标志帧的起始和结束,其比特模式为01111110,可采用0比特插入法实现数据的透明传输.FCS字段用于帧的校验,若传输中出错,则由接收端将之丢弃并通知发送端重发.
帧格式中的地址字段的主要作用是路由寻址,也兼管拥塞控制.地址字段一般由2个字节组成,在需要时也可扩展到3或4个字节.
数据链路连接标识符DLCI由高、低两部分共10比特组成,用于惟一标识一个虚连接.
命令/响应位C/R与高层应用有关,帧中继本身并不使用
扩展地址位EA为"0"表示下一字节仍为地址,为"1"表示地址结束,用于对地址字段进行扩展.对于2字节地址,其EA0为"0"、EA1为"1"
发送方将前向显示拥塞通知位FECN置"1",用于通知接收方网络出现拥塞;接收方将反向显示拥塞通知位BECH置"1",用于通知发送方网络出现拥塞.
可丢弃位DE由用户设置,若置"1",表示当网络发生拥塞时,该帧可优先丢弃.
### X.25协议:协议层次、分组格式、分组类型
X.25实际上是DTE(主机)与PSN(分组交换网)之间接口的一组协议,它包括物理层、数据链路层和分组层三个层次.X.25的分组级相当于OSI参考模型中的网络层,其主要功能是向主机提供多信道的虚电路服务
在分组级上,所有的信息都以分组的基本单位进行传输和处理,无论是DTE之间所要传输的数据,还是交换网所用的控制信息,都以分组形式来表示,并按照链路协议穿越DTE-DCE界面进行传输.因此在链路层上传输时,分组应嵌入到信息帧(I帧)的信息字段中:
| 标记字段F | 地址字段A | 控制字段C | (分组) | 帧校验序列FCS | 标记字段F |
| --------- | --------- | --------- | ------ | ------------- | --------- |

每个分组均由分组头和数据信息两部分组成
| 通用格式标志｜逻辑信道组号   |
| ---------------------------- |
| 逻辑信道号                   |
| 分组类型标志                 |
| 与分组类型有关的信息(可为空) |
| 数据(可变长、可为空)         |
分组格式中的数据部分(可以为空)通常被递交给高层协议或用户程序去处理,所以分组协议中不对它作进一步规定.分组头用于网络控制,主要包括DTE-DCE的局部控制信息,其长度随分组类型不同有所不同,但至少要包含前三个字节作为通用格式标识、逻辑信道标识和分组类型标识,它们的含义如下:
1. 通用格式标志(GFI).由分组中第一个字节的前4位组成,用于标志分组头中其余部分的格式.第一位(b8)称作Q位或限定位,只用于数据分组中.这是为了对分组中的数据进行特殊处理而设置的,可用于区分数据是正常数据,还是控制信息.对于其他类型的分组,该位恒置为"0".第二位(b7)称D位或传送确认位,设置该位的目的是用来指出DTE是否希望用分组接收序号P(R)来对它所接收的数据作端-端确认.在呼叫建立时,DTE之间可通过D位来商定虚呼叫期间是否将使用D位规程.第三、四位(b6、b5)用以指示数据分组的序号是用3位即模8(b5置"1")还是7位即模128(b6置"1"),这两位或者取"10",或者取"01",一旦选定,相应的分组格式也有所变化.
2. 逻辑信道标识.由第一个字节中的剩余四位(b4、b3、b2、b1)所作的逻辑信道组号(LCGN)和第二个字节所作的逻辑信道号(LCN)两部分组成,用以标识逻辑信道.
3. 分组类型标识.由第三个字节组成,用于区分分组的类型和功能.若该字节的最后一位(b1)为"0",则表示分组为数据分组;若该位为"1",则表示分组为控制分组,可以用作呼叫请求或指示分组、释放请求或指示分组.若该字节末三位(b3、b2、b1)为全"1",则表示该分组是某个确认或接受分组
4. 第四个字节及其后诸字节将依据分组类型的不同而有不同的定义

## 异步传输模式
### 定义、工作方法
ATM是一种转换模式(即前面所说的传输方式),在这一模式中信息被组织成信元(Cell),包含一段信息的信元并不需要周期性的出现在信道上,从这个意义上来说,这种转换模式是异步的.
### 功能.
ATM网络除了OSI第一层的功能之外,交换节点不参与任何工作.从功能分布来看,ATM网和电路交换网有点相似,可以说ATM网是综合了分组交换和电路交换的优点而形成的一种网络
### ATM特征
ATM的特点是进一步简化了网络功能.ATM网络不参与任何数据链路层的功能,将差错控制与流量控制工作都交给终端去做.
### 基于Cell的分组交换技术
ATM仍然采用分组交换技术,ATM网络中传输的分组称为信元(Cell).信元实际上就是分组,只是为了区别于X.25的分组,才将ATM的信息单元叫做信元.ATM的信元具有固定的长度,即总是53个字节.其中5个字节是信头(Header),48个字节是信息段.信头包含各种控制信息,主要是表示信元去向的逻辑地址,另外还有一些维护信息、优先级及信头的纠错码.信息段中包含来自各种不同业务的用户数据,这些数据透明的穿越网络.信元的格式与业务类型无关,任何业务的信息都同样的被切割封装成统一格式的信元.
### 信元格式
ATM子层是ATM数据链路层的子层,主要定义信元头的结构,以及使用物理链路的方法.ATM的信头有两种格式,分别对应用户-网络接口UNI和网络节点接口NNI.UNI信头中各字段含义及功能如下:
1. GFC(Generic Flow Control):一般流量控制字段,又称接入控制字段,当多个信元等待传输时,用以确定发送顺序的优先级
2. VPI(Virtual Path Identifier)/VCI(Virtual Channel Identifire):虚路径标识字段/虚通道标识字段,用作路由选择
3. PT(Payload Type):负荷类型字段,用以标识信元数据字段所携带的数据的类型
4. CLP(Cell Loss Priority):信元丢失优先级字段,用于拥塞控制,若网络出现拥塞时,首先丢弃CLP值小的信元
5. HEC(Head Error Control):信头差错控制字段,用以检测信头中的差错,并可纠其中的1比特错.HEC的功能在物理层实现

### 适配层功能
AAL的主要目的是将高层的信息转换成适合ATM网络传输要求的格式
1. ITU的通信业务分类。ITU将ATM网络可以支持的业务分为四大种类：
CLASS A:支持源/宿之间具有实时要求的恒定位速率(CBR)业务,CBR业务采用面向连接的工作方式;
CLASS B:支持源/宿之间具有实时性要求的可变位速率(VBR)业务,VBR业务采用面向连接的工作方式;
CLASS C:支持源/宿之间无实时性要求的可变位速率(VBR)业务
CLASS D:支持面向无连接的数据传输服务

## 第三层交换技术
### 第三层交换技术的引入
交换技术可以克服网络带宽的局限,并提供灵活的网络配置,而路由技术在目前的情况下又必不可少,于是人们就将这两种不同的技术结合起来,扬长避短,发挥它们各自的要厚点,从而退出一种新的网络互连技术,就是第三层交换技术
### 局域网第三层交换技术
1. Fast IP技术
Fast IP技术是一种典型的多层混合交换模型的L3交换解决方案,它采用了"路由一次,随后交换"的技术.下一跳解析协议(Next Hop Resolution Protocol,NHRP)是Fast IP的主要技术基础.NHRP协议用于IPOA中的非广播多路访问(NBMA)网络,它并不是一个路由协议,而只是一个逻辑IP子网LIS的地址解析协议
Fast IP实现了局域网环境中主机到主机模式的NHRP协议,从而可以减少中间的路由环节,提高网络性能.Fast IP技术应用正式"一次路由,随后交换"的思想.Fast IP技术的基本思想是设法在数据交换过程中避开第三层路由器,即把基于IP的地址路由表的路由功能转换成基于端口-MAC地址表的转发功能,从而实现完全的端到端高速交换通信,使网络的性能获得提高.本质上,Fast IP并不是要替代路由,而是把交换和路由很好的结合在一起,或者说在路由是既成事实的情况下,设法对路由进行补充
2. Net Flow技术
Net Flow技术是典型的基于核心模型的L3交换方案,其目的是提高网络核心节点即路由器的性能.Net Flow可以在路由器上进行软件升级,使之对每一个数据报文不再采用传统的处理方法,因而可以提高路由/转发能力.路由器的CPU可能会因为路由和转发方式的改进减轻一些负担,但是Net Flow也会使CPU要处理的任务更多、更复杂,需要提高CPU进行实时处理的能力
在Net Flow技术中,每一个数据报文仍然采用一般的第三层路由交换方式,处理之后路由器把第一个数据报文的信息记录在Net Flow高速缓存中,后继的数据报文到达之后首先在高速缓存中进行匹配查找,如果命中就使用高速缓冲中的路由信息直接进行交换转发,否则再进行通常的路由转发.

### 广域网第三层交换技术
Tag Switching技术是一种典型的基于核心模型的L3交换解决方案,其基本思想是增强广域网核心路由器的路由/转发能力.Tag Switching技术支持ATM和第三层路由的集成,从而可以提高Internet的扩展性,并克服ATM LANE、IPOA和MPOA效率低下的缺点.
支持Tag Switching技术的路由器被称为标记交换路由器(Tag Switching Router,TSR).相邻的TSR之间的路由信息的交互都是基于网络层的路由协议.当路由表收敛后,每个TSR为每条路径指定在本地生成的标记(Tag).所谓标记是一个很短的长度固定的标号,路由表根据标记进行路由表查找,而不是根据传统的子网前缀,显然要快很多.每个标记可以标识一条或多条路径的聚集,标记的分配是借助标记分配的协议(Tag Distribution Protocol,TDP)来完成的.
每个TSR都要实现两个基本的功能:基于标记的转发/交换功能,以及对互连TSR的合法标记集的管理功能.这两个功能也不是单纯靠软件来实现的,Cisco使用硬件来实现第一个功能,即基于标记的转发/交换功能以提高效率.
## 虚拟局域网技术
### 虚拟局域网的概念
虚拟局域网是通过路由和交换设备在网络的物理拓扑结构基础上建立的逻辑网络.一个VLAN可以看做是一组网络节点的集合,这些节点不必位于同一个物理网络中,但可以不受地理位置的限制而像在同一个局域网中那样进行数据通信.一般认为,VLAN等价于一个第二次广播域或者等价于一个第三层网络.
### 建立虚拟局域网的交换技术:端口交换、帧交换、信元交换,划分虚拟局域网的方法
### 端口交换
端口交换又称配置交换,最初的方式是把端口经过手工配置到一个或若干个通过背板连接的共享集线器上,可以形成若干个独立的由端口组合的共享传输介质段,每一个连接到端口上的用户被分配到其中一个段上.近年来发展成为由一个或几个通过背板连接的端口交换机,通过软、硬件的控制和管理,把交换机上的端口划分成若干个共享式的互相独立的VLAN.
由于端口交换形成的VLAN还是共享介质段,因此使用这种方式形成的VLAN,端口用户以及整个VLAN的带宽受到限制.对需要高带宽的端口用户或者规模较大、对带宽要求高的VLAN来说,选用全交换的网络设备是必须的.
### 帧交换
在帧交换中,局域网交换机在每一个端口上提供一个独立的共享介质端口,在此端口上可以接共享集线器也可以接单独的一个网络节点.在一个端口上接收到的帧被正确的转发到端口上,在寻路和转发时,帧是不会被破坏的.对于广播帧来说,可以转发到交换机上的所有端口.
帧交换方式的特点是比端口交换增加了有效的带宽,LAN交换机上每个端口用户具有独占带宽的性能,交换机间互连的速率可达数百兆甚至千兆位的数据传输率.服务器和高速客户站可以直接连到交换机端口上.
### 信元交换
信元交换在ATM交换机上实现,一个或者多个互连的ATM交换机组成网络的核心系统,类似于帧交换,所不同的是从ATM交换机端口上接收到信元后,正确的转发到输出端口.ATM允许网络节点加入多个VLAN,允许一条物理信道上实现多个逻辑连接.ATM上目前常采用ATM LANE技术实现VLAN.
### 划分虚拟局域网的方法
1. 按交换端口划分VLAN.
2. 按MAC地址划分VLAN.
3. 按第三层协议划分VLAN.

## 虚拟专用网VPN
### 概念
虚拟专用网VPN(Virtual Private Network)依靠ISP(Internet服务提供商)和其他NSP(网络服务提供商),在公用网络中建立专用的数据通信网络的技术.在虚拟专用网中,任意两个节点之间的连接并没有传统专网所需的端到端的物理链路,而是利用某种公众网的资源动态组成的.所谓虚拟,是指用户不再需要拥有实际的长途数据线路,而是使用Internet公众数据网络的长途数据线路;所谓专用网络,是指用户可以为自己制定一个最符合自己需求的网络
### VPN的特点
1. 安全保障.
> VPN的实现技术和方式很多,但所有的VPN均应保证通过公用网络平台传输数据的专用型和安全性.在非面向连接的公用网络上建立一个逻辑的、点对点的连接,称之为一个隧道,可以利用加密技术对经过隧道的数据进行加密,以保证数据仅被指定的发送者和接受者了解,从而保证了数据的私有性和安全性.
2. 服务质量保证.
> VPN网应当为企业数据提供不同等级的服务质量保证.不同的用户和业务对服务质量保证的要求差别较大,均要求网络根据需要提供不同等级的服务质量.
3. 可扩充性和灵活性.
> VPN必须能够支持通过Intranet和Extranet的任何类型的数据流,方便增加新的节点,支持多种类型的传输介质,可以满足同时传输语音、图像和数据等新应用对高质量传输以及带宽增加的需求.
4. 可管理性.
> 从用户角度和运营商角度应可方便的进行管理、维护.在VPN管理方面,VPN要求企业将其网络管理功能从局域网无缝的延伸到公用网,甚至是客户和合作伙伴.虽然可以将一些次要的网络管理任务交给服务提供商去完成,企业自己仍需要完成许多网络管理任务.所以一个完善的VPN管理系统时必不可少的.VPN管理的目标为:较小网络风险、具有高扩展性、高可靠性等优点.VPN管理主要包括安全管理、设备管理、配置管理、访问控制列表管理、QoS管理等内容.

### VPN安全技术
1. 隧道技术
> 隧道技术是VPN的基本技术,类似于点对点连接技术,它在公用网建立一条数据通道(隧道),让数据报通过这条隧道传输.隧道是由隧道协议形成的,分为第二、三层隧道协议.第二层隧道协议是先把各种网络协议封装到PPP中,再把整个数据报装入隧道协议中,这种双层封装方法形成的数据包靠第二层协议进行传输.第二层隧道协议有L2F、PPTP、L2TP等;第三层隧道协议是把各种网络协议直接装入隧道协议中,形成的数据包依靠第三层协议进行传输.
2. 加解密技术
> 加解密技术是数据通信中意向较成熟的技术,VPN可直接利用现有技术实现加解密.
3. 秘钥管理技术
> 秘钥管理技术的主要任务是如何在公用数据网上安全地传递秘钥而不被窃取.现行秘钥管理技术又分为SKIP与ISAKMP/OAKLEY两种.SKIP主要是利用Diffie - Hellman的验算法则,在网络上传输秘钥;在ISAKMP中,双方都有两把秘钥,分别用于公用、私用.
4. 使用者与设备身份认证技术
> 使用者与设备身份认证技术.使用者与设备身份认证技术最常用的是使用者名称与密码或卡片式认证等方式.

## 计算机网络安全
### 网络管理的五大基本功能
1. 故障管理
故障管理是网络管理中最基本的功能之一.当网络发生故障时,①必须尽可能快地找出故障发生的确切位置;②将网络其它部分与故障部分隔离,以确保网络其它部分能不受干扰继续运行;③重新配置或重组网络,尽可能降低由于隔离故障后给网络带来的影响;④修复或替换故障部分,将网络恢复为初始状态.对网络组成部件状态的监测是网络故障检测的一句.不严重的简单故障则需要通知网络管理器,即发出报警.因此网络管理器必须具备快速和可靠的故障监测、诊断和恢复功能.
2. 计费管理
在商业性有偿使用的网络上,计费管理功能统计哪些用户、使用何信道、传输多少数据、访问什么资源等信息;另一方面,计费管理功能还可以统计不同线路和各类资源的利用情况.因此可见,计费管理的根本依据是网络用户资源的情况.一个网络管理系统必须记录这些信息,并制定一种用户可接受的积分方式.商业性网络中的计费系统还要包含诸如每次通信的开始和结束时间、通信中使用的服务等级以及通信中的另一方等更详细的积分信息,并使用户能够随时查询这些信息.
3. 配置管理
配置管理也是网络管理的基本功能.计算机网络由各种物理结构和逻辑结构组成,这些结构中有许多参数、状态等信息需要设置并协调.另外,网络运行在多变的环境中,系统本身也经常要随着用户的增减或设备的维修而调整配置.网络管理系统必须具有足够的手段支持这些调整的变化,使网络更有效地工作.这些手段构成了网络管理的配置管理功能.配置管理功能至少应包括识别被管理网络的拓扑结构、标识网络中的各种现象、自动修改指定设备的配置、动态维护网络配置数据库等内容
4. 性能管理
性能管理的目的是在使用最少的网络资源和具有最小延迟的前提下,确保网络能提供可靠、连续的通信能力,并使网络资源的使用达到最优化的程度.网络的性能管理有监测和控制两大功能,检测功能实现对网络中的活动进行跟踪,控制功能实施相应调整来提高网络性能.性能管理的具体内容包括:从被管对象中收集与网络性能有关的数据,分析和统计历史数据,建立性能分析的模型,预测网络性能的长期趋势,并根据分析和预测的结果,对网络拓扑结构、某些对象的配置和参数做出调整,逐步达到最佳运行状态.如果需要做出的调整较大时,还要考虑扩充或重建网络.
5. 安全管理
安全管理的目的是确保网络资源不被非法使用,防止网络资源由于入侵者攻击而遭受破坏.其主要内容包括:与安全措施有关的信息分发(如秘钥的分发和访问权设置等),安全服务措施的创建、控制和删除,与安全有关的网络操作事件的记录、维护和查询日志管理工作等.一个完善的计算机网络管理系统必须指定网络管理的安全策略,并根据这一策略设计实现网络安全管理系统.

### 网络管理的主要协议,网络安全的概念
目前最有影响的网络管理协议有两个:一个是简单网络管理协议SNMP(Simple Network Management Protocol);另一个是公共管理信息服务和公共管理信息协议CMIS/CMIP(Common Management Information Service/Common Management Information Protocol)
网络安全是为了在数据传输期间保护这些数据并且保证数据的传输是可信的,它强调的是网络中信息或数据的完整性(Interity)、可用性(Availability)以及保密性(Confidentiality and Privacy).所谓完整性,是指保护信息不被非授权用户修改或破坏;可用性是指避免拒绝授权访问或拒绝服务;保密性是指保护信息不被泄露给非授权用户
### 常规加密解密方法,认证和数字签名
1. 传统的加密机制.所谓加密就是将明文(原信息)经过处理转换成密文(与原信息不同的、不易理解的信息)的过程,解密是加密的逆过程,即将密文翻译成明文的过程.加密/解密必须遵循明文与密文的相互交换是唯一的、无误差的可逆变换的规则.
传统的加密技术是发送方和接收方必须使用相同的秘钥,而且秘钥必须保密,这种加密方法称为秘密秘钥加密.它的原理是:发送方用该秘钥对待发送数据进行加密,然后加密数据传送到接收方,接收方再用相同的秘钥对收到的加密数据进行解密
2. 公开秘钥加密.公开秘钥加密技术是给每个用户分配两把秘钥:一个是保密的私有秘钥;另一个是公开秘钥.该方法的加密函数必须具备如下数据特性;用公开秘钥加密的数据除了使用相应的私有秘钥外很难被解密;同样,使用私有秘钥加密的数据除了使用相应的公开秘钥外也很难被解密.
这种方法是安全的,因为加密和解密的函数具有单向性质.也就是说,仅知道了公开秘钥并不能伪造由相应私有秘钥加密过的数据.可以证明,公开秘钥加密法能够保证保密性.只要发送方使用接收方的公开秘钥来加密代发数据,那么久只有接收方能够加密该加密数据,因为解密必须要知道接收方的私有秘钥.
3. 加密算法.最常用的传统加密算法是分组密码,它将明文输入变成固定长度的数据块,并生成明文大小相同的密文块.两种最重要的传统算法是DES和TDEA.它们都属于分组密码.三重DES使用了三个秘钥,并执行了三次DES算法,这个函数的执行顺序是加密-解密-加密,在第二个阶段中使用的解密不具有密码的含义,它的唯一作用就是让三重DES的用户能够解密以前单次DES用户加密的数据.使用三个不同的秘钥,TDEA的有效秘钥长度为168bit.
4. 认证.加密可以保护数据不受被动攻击(窃听),而要保护数据不受主动攻击(数据的伪造和变动)则有不同的要求.防止此类攻击的保护措施称为报文认证.
报文的认证方式有以下四种：
    1. 使用传统加密方式的认证，假设发送方和接收方共享一个秘钥，只有真正的发送方才能成功的加密发往对方的报文
    2. 没有报文加密的报文认证.这是不依靠加密的报文认证方式.在这种方式中,需要生成一个认证标签,并将其附加在每个报文上进行传输.报文本身并没有经过加密,并且可以有目的端读取,读取过程与目的端的认证函数无关.
    3. 使用密钥的报文认证码方式,它是使用密钥来生成一小块数据,被附加在报文上.这种技术假设通信双方共享一个公共的密钥$K_{AB}$(AB是发送方和接收方).当A有报文要发送到B时,A通过计算得到报文认证码,这个报文认证码是报文与密钥的一个函数.报文再加上一个编码被一起传输到接收方.接收方根据接收到的报文,并使用相同的秘钥来执行相同的计算,以生成一个新的报文认证码,将接收到的编码与计算得到的编码进行比较.
    4. 使用单向散列函数的认证.单向散列函数是一种报文认证码的变形.散列函数接收变长的报文M作为输入,并产生固定尺寸的标签H(M)作为输出.与报文认证码不同的是,散列函数不用密钥作为输入.为了证实一个报文,报文摘要要与报文一起发送,并且被认证是报文摘要.认证摘要要有散列方法,即传统加密方法、公开秘钥加密和保密的值.

5. 数字签名.所谓数字签名,就是附加在数据单元上的一些数据,或是对数据单元作的密码变换,也就是信息的发送者使用公开秘钥算法的主要技术产生的别人无法证伪的一段数字串.发送者用自己的私有秘钥将数据加密后传送给接收者,接受者用发送者的公钥解开数据后,就可确定消息来自于谁,这也是对发送者发送的信息真实性的一个证明,发送者对所发信息不能反悔.
之所以使用数字签名,是因为对文件进行加密只解决了传送信息的保密问题,而防止他人对传输的文件进行破坏,以及如何确定发信人的身份还需要采取其它的手段,而这一手段就是数字签名.在电子商务安全保密系统中,数字签名技术有着特别重要的地位,在电子商务安全服务中的源认证、完整性服务、不可否认服务中都要用到数字签名技术.
目前的数字签名是建立在公共密钥体制基础上的,它是公共密钥加密技术的另一类应用.它的主要方式是,报文发送方从报文文本中生成一个128位的散列值(或报文摘要)发送方用自己的私人密钥对这个散列值进行加密来形成发送方的数字签名.然后,这个数字签名将作为报文的附件和报文一起发送给报文的接收方.接收方首先从接收到的原始报文中计算出128位的散列值(或报文摘要),接着再用发送方的公用秘钥对报文附加的数字签名进行解密.如果两个散列值相同,那么接收方就能确认该数字签名是发送方的.通过数字签名能够实现对原始报文的鉴别.
数字签名与书面签名有相同之处,采用数字签名也能确认以下两点:第一,信息是有签名者发送的;第二,信息自签发后到收到为止曾作过任何修改.这样数字签名就可用来防止电子信息被修改(篡改),或冒用他人名义发送信息(伪造),或发出(收到)信件后又加以否认等情况发生.
应用广泛的数字签名方法主要由三种:即RSA签名、DSS签名、Hash签名.这三种算法可单独使用,也可综合在一起使用.
用RSA或其他公开密钥密码算法的最大方便是没有秘钥分配问题,因为公开秘钥加密使用两个不同的秘钥,其中有一个是公开的,另一个是保密的.RSA算法中数字签名技术实际上是通过一个哈希函数来实现的.数字签名的特点是它代表了文件的特征,如果文件发生改变,则数字签名的值也将发生变化.不同的文件将得到不同的数字签名.一个最简单的哈希函数是把文件的二进制编码相累加,取最后的若干位.哈希函数对发送数据的双方都是公开的.
DSS数字签名是由美国国家标准化研究院和国家安全局共同开发的.由于它是美国政府颁布实施的,主要用于与美国政府做生意的公司,其他公司则较少使用,它只是一个签名系统,而且美国政府不提倡使用任何削弱政府监听能力的加密软件,认为这才符合美国的国家利益.
Hash签名是最主要的签名方法,也称之为数字摘要法或数字指纹法.它与RSA数字签名不同,该数字签名方法是将数字签名与要发送的信息紧密联系在一起,它更适合于电子商务活动.将一个商务合同的内容与签名相结合在一起传播,比合同和签名分开传输增加了可信度和安全性.数字摘要加密方法称安全Hash编码法或MD5,该编码法采用单项Hash函数将需加密的明文"摘要"成一串128b的密文,这一串密文亦成为数字指纹,它有固定的长度,且不同的明文摘要必定一致.这样这串摘要便可成为验证明文是否是"真身"的"指纹"了
过程:
    1. 首先发送方用哈希函数从原文得到数字签名,然后采用公开秘钥体系用发送方的私有秘钥对数字签名进行加密,并把加密后的数字签名附加在要发送的原文后面
    2. 发送方选择一个秘密密钥对文件进行加密,并把加密后的文件通过网络传输到接收方
    3. 发送方用接收方的公开秘钥对秘密秘钥进行加密,并通过网络加密后的秘密秘钥传输到接收方
    4. 接收方使用自己的私有秘钥对密钥信息进行解密,得到秘密密钥的明文
    5. 接收方用秘密密钥对文件进行解密,得到经过加密的签名
    6. 接收方用发送方的公开秘钥对数字签名进行解密,得到数字签名的明文
    7. 接收方用得到的明文和哈希函数重新计算数字签名.并与解密的数字签名进行对比.如果两个数字签名是相同的,则说明文件在传输过程中没有被破坏.